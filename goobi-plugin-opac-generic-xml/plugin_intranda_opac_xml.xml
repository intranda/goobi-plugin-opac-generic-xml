<?xml version="1.0" encoding="UTF-8"?>
<config_plugin>
	<!-- define the list of namespaces. It is used to read the document and run xpath queries -->
	<namespaces>
		<namespace prefix="ead" uri="urn:isbn:1-931666-22-9" />
		<namespace prefix="oai" uri="http://www.openarchives.org/OAI/2.0/" />
	</namespaces>

	<docstructs>
		<!-- use the configured document type --->
		<!-- or detect the document type in xml record -->
	<!--
		<documenttype isanchor="false">Record</documenttype>
		<documenttype isanchor="true">VolumeRun</documenttype>
	-->

		<!-- run the query and compare the result with the list -->
		<doctumenttypequery xpath="//ead:c/@level"  xpathType="Attribute" />
		<docstruct xmlName="Book" rulesetName="Monograph"/>
		<docstruct xmlName="Photo" rulesetName="Picture"/>
		<docstruct xmlName="File" rulesetName="Item"/>
		<docstruct xmlName="Periodica" rulesetName="Volume" anchorName="Periodical"/>
	</docstructs>



	<mapping>
			<metadata name="TitleDocMain" xpath="//ead:c[@level='file']/ead:did/ead:unittitle" level="topstruct" xpathType="Element"/>
			<metadata name="TitleDocMainShort" xpath="//ead:c[@level='file']/ead:did/ead:unittitle" level="topstruct" xpathType="Element"/>
			<metadata name="CatalogIDDigital" xpath="//ead:c[@level='file']/@id" level="topstruct" xpathType="Attribute"/>
			<metadata name="CatalogIDSource" xpath="//ead:c[@level='file']/@id" level="topstruct" xpathType="Attribute"/>
			<!--			<metadata name="singleDigCollection" xpath="//ead:eadheader/ead:filedesc/ead:titlestmt/ead:titleproper"  level="topstruct" xpathType="Element"/>  -->
			<metadata name="PublicationRun" xpath="//ead:c[@level='file']/ead:did/ead:unitdate" level="topstruct" xpathType="Element"/>
			<metadata name="PublicationStart" xpath="substring-before(//ead:c[@level='file']/ead:did/ead:unitdate/@normal\, '/')" level="topstruct" xpathType="String"/>
<metadata name="PublicationEnd" xpath="substring-after(//ead:c[@level='file']/ead:did/ead:unitdate/@normal\, '/')" level="topstruct" xpathType="String"/>
			<metadata name="ShelfmarkOld" xpath="//ead:c[@level='file']/ead:did/ead:unitid[@type='Altsignatur']" level="topstruct" xpathType="Element"/>
			<metadata name="shelfmarksource" xpath="concat('HU UA '\, //ead:c[@level='collection']/ead:did/ead:unitid\, ' Nr. '\, //ead:c[@level='file']/ead:did/ead:unitid)" level="topstruct" xpathType="String"/>
			<!--			<metadata name="AccessLicense" xpath="//ead:c[@level='file']/ead:accessrestrict/ead:p" level="topstruct" xpathType="Element"/>
			<metadata name="TitleDocSub1" xpath="//ead:c[@level='class']/ead:did/ead:unittitle" level="topstruct" xpathType="Element"/>
			<metadata name="Genre" xpath="//ead:c[@level='file']/ead:did/ead:physdesc/ead:genreform" level="topstruct" xpathType="Element"/>
			<metadata name="History" xpath="//ead:c[@level='collection']/ead:scopecontent[/ead:head/text() = 'Bestandsgeschichte']/ead:p" level="topstruct" xpathType="Element"/>
			<metadata name="Description" xpath="//ead:c[@level='collection']/ead:scopecontent[/ead:head/text() = 'Beschreibung']/ead:p" level="topstruct" xpathType="Element"/> -->
			<metadata name="SizeSourcePrint" xpath="//ead:c[@level='file']/ead:did/ead:physdesc/ead:extent" level="topstruct" xpathType="Element"/>
			<metadata name="OtherPerson" xpath="//ead:c[@level='file']/ead:odd/ead:p" level="topstruct" xpathType="Element"/>
            <metadata name="Information" xpath="//ead:c[@level='file']/ead:did/ead:abstract[@type='EnthÃ¤lt']" level="topstruct" xpathType="Element"/>
            <metadata name="Contains" xpath="//ead:c[@level='file']/ead:did/ead:abstract[@type='Darin']" level="topstruct" xpathType="Element"/>
			<metadata name="Provenience" xpath="//ead:c[@level='file']/ead:did/ead:origination" level="topstruct" xpathType="Element"/>


<!-- concat example: -->
<!--
<metadata name="singleDigCollection" xpath="concat(//ead:eadheader/ead:filedesc/ead:titlestmt/ead:titleproper\,'#'\, //ead:c[@level='collection']/ead:did/ead:unitid)" level="topstruct" xpathType="String"/>

-->

	</mapping>
</config_plugin>

